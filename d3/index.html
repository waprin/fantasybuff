<!DOCTYPE html>

<style>

.chart rect {
    fill: #4682b4;
}

.chart .score  {
    fill: white;
    font: 16px sans-serif;
    text-anchor: end;
}

.chart .label {
    fill: black;
    font: 16px sans-serif;
}

.title {
    width:100%;
    text-align: center;
    font: 16px san-serif;
}

    .container {
        width: 420px;
        margin-left: 20%;
    }

</style>

<div class="title"><h1>League Report Card</h1></div>
<div class="container">
<svg class="chart" width="420" height="120">
    <!--<g transform="translate(0,0)">
        <rect width="40" height="19"></rect>
        <text x="37" y="9.5" dy=".35em">5</text>
    </g>
    <g transform="translate(0,20)">
        <rect width="80" height="19"></rect>
        <text x="77" y="9.5" dy=".35em">8</text>
  </g>-->
</svg>
</div>
<div class="words">

</div>


<script src="http://d3js.org/d3.v3.min.js"  charset="utf-8"></script>
<script src="https://code.jquery.com/jquery-2.1.1.min.js"> </script>
<script type="text/javascript">

    var data = [{"title": "Lineup",  "value": 40}, {"title": "Waiver Wire", "value": 90}, {"title": "Trading", "value": 70}];
    var width = 420,
        barHeight = 50;

    var labelWidth=100;
    var totalWidth = width + labelWidth;
    var x = d3.scale.linear().domain([0, 100]).range([0, width]);

    var chart = d3.select(".chart").attr("width", totalWidth).attr("height", barHeight * data.length);


    var bar = chart.selectAll("g")
    .data(data)
    .enter().append("g")
    .attr("transform", function(d, i) { return "translate(" + labelWidth + "," + i * barHeight + ")"; });

     bar.append("rect")
             .attr("transform", "translate(" + labelWidth + ", 0)")
    .attr("width", 0)
    .attr("height", barHeight - 1)
             .transition()
    .attr("width", function(d) { return x(d.value)})
             .duration(700)
             .delay(function(d, i) { return i * 1200;})
             .transition()
             .duration(500)
             .style("fill", function(d) {
                 if (d.value < 50) {
                     return "#F00";
                 } else if (d.value < 80) {
                     return "#EEE34E";
                 }
                 else {
                     return "#0F0";
                 }
             }).each("end", function(d) {
                 $(".words").append('<p>' + d.title + ":" + d.value + "</p>" );
             });


    bar.append("text")
            .attr("class", "label")
            .attr("x", 0)
            .attr("y", barHeight / 2)
            .attr("dy", ".35em")
            .text(function(d) { return d.title})

     bar.append("text")
             .attr("x", function(d) { return x(d.value) - 3; })
             .attr("y", barHeight / 2)
             .attr("class", "score")
             .attr("dy", ".35em")
             .text(function(d) { return d.value; });


</script>
<!--
<script type="text/javascript">
    var data = [4, 2, 9, 10];

    var x = d3.scale.linear().domain([0, d3.max(data)]).range([0, 420]);
    d3.select(".chart").selectAll("div").data(data).enter()
            .append("div").style("width", function(d) { return x(d) + "px"; })
            .text(function(d) { return d;});

</script>

-->


